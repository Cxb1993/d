#!/usr/bin/env python

import sys, os, argparse

# Ugly hack so I can code in peace.
try:
    from d.base import render_files
except ImportError:
    sys.path.append(os.path.abspath(os.path.join(__file__, '..', '..')))
    from d.base import render_files

if __name__ == '__main__':

    # Argument parser
    parser = argparse.ArgumentParser(description='Markdown files to documentation. Run and get on with your life.')
    parser.add_argument('-s', dest='source', default='.', help='Documentation source', metavar='SOURCE')
    parser.add_argument('-t', dest='target', default='./build', help='Documentation output target', metavar='TARGET')

    args = parser.parse_args()

    # Render with arguments
    render_files(args.source, args.target)
